mutation nySoknad {
    nySoknad {
        id
    }
}

query getTelefon($soknadId: ID!) {
    soknad(id: $soknadId) {
        id
        telefon {
            fraKrr
            brukerdefinert
        }
    }
}

query getPersonalia($soknadId: ID!) {
    soknad(id: $soknadId) {
        id
        ...BasisPersonalia
        adresser {
            ...Adresser
        }
    }
}

fragment BasisPersonalia on Soknad {
    personalia {
        navn {
            fornavn
            mellomnavn
            etternavn
        }
        fnr
        statsborgerskap
    }
}

fragment Adresser on AdresseData {
    bostedsadresse {
        vegadresse {
            ...vegadresse
        }
        matrikkeladresse {
            ...matrikkeladresse
        }
    }
    oppholdsadresse {
        vegadresse {
            ...vegadresse
        }
    }
    soknadsadresse {
        ...vegadresse
    }
}

fragment vegadresse on Vegadresse {
    adressenavn
    husnummer
    husbokstav
    tilleggsnavn
    postnummer
    kommunenummer
    bruksenhetsnummer
    bydelsnummer
}

fragment matrikkeladresse on Matrikkeladresse {
    postnummer
    tilleggsnavn
    kommunenummer
    bruksenhetsnummer
}

mutation SetTelefonnummer($soknadId: ID!, $tlfNr: String) {
    setTelefonnummer(soknadId: $soknadId, tlfnr: $tlfNr) {
        telefon {
            brukerdefinert
        }
    }
}

mutation Koko($soknadId: ID!, $adresseValg: AdresseValg!, $soknadsAdresse: NyVegadresse) {
    setAdresse(soknadId: $soknadId, adresseValg: $adresseValg, soknadsAdresse: $soknadsAdresse) {
        adresser {
            ...Adresser
        }
    }
}
