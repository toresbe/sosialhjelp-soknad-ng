mutation nySoknad {
    nySoknad {
        status
        soknad {
            id
        }
    }
}

query getPersonalia($soknadId: ID!) {
    soknad(id: $soknadId) {
        ...PageOne
    }
}

fragment PageOne on Soknad {
    id
    personalia {
        ...BasisPersonalia
    }
    opphold {
        ...Opphold
    }
    telefon {
        ...Telefon
    }

}

fragment Telefon on TelefonData {
    brukerdefinert
    fraKrr
}

fragment BasisPersonalia on Personalia {
    navn {
        fornavn
        mellomnavn
        etternavn
    }
    fnr
    statsborgerskap
}

fragment Opphold on Opphold {
    valgtAdresse
    bostedsAdresse {
        adresseTekst
        postnummer
        poststed
    }
    oppholdsAdresse {
        adresseTekst
        postnummer
        poststed
    }
    soknadsAdresse {
        adresseTekst
        postnummer
        poststed
    }
    navEnhet {
        navn
        kommune
    }
}

mutation SetTelefonnummer($behandlingsId: ID!, $input: Telefon!) {
    soknad(id: $behandlingsId) {
        telefon(input: $input) {
            soknad {
                id
                telefon {
                    brukerdefinert
                }
            }
        }
    }
}

mutation SetAdresse($behandlingsId: ID!, $input: Adresse!) {
    soknad(id: $behandlingsId) {
        adresse(input: $input) {
            soknad {
                id
                opphold {
                    ...Opphold
                }
            }
        }
    }
}
